import { createInvalidValueError } from "./errors/invalid-value";
/**
 * Calls the `.testError` method of `type` or falls back to an implementation derived from `.test`.
 *
 * @param type The type used for the test.
 * @param value The value to match.
 * @return Undefined if the value matches, otherwise an `Error` instance.
 */
export function testError(type, value) {
    if (type.testError !== undefined) {
        return type.testError(value);
    }
    else {
        return type.test(value) ? undefined : createInvalidValueError(type, value);
    }
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvdGVzdC1lcnJvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSx3QkFBd0IsQ0FBQztBQUVqRTs7Ozs7O0dBTUc7QUFDSCxNQUFNLFVBQVUsU0FBUyxDQUFJLElBQWEsRUFBRSxLQUFRO0lBQ2xELElBQUksSUFBSSxDQUFDLFNBQVMsS0FBSyxTQUFTLEVBQUU7UUFDaEMsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0tBQzlCO1NBQU07UUFDTCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsdUJBQXVCLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0tBQzVFO0FBQ0gsQ0FBQyIsImZpbGUiOiJsaWIvdGVzdC1lcnJvci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFR5cGUgfSBmcm9tIFwiLi9jb3JlXCI7XG5pbXBvcnQgeyBjcmVhdGVJbnZhbGlkVmFsdWVFcnJvciB9IGZyb20gXCIuL2Vycm9ycy9pbnZhbGlkLXZhbHVlXCI7XG5cbi8qKlxuICogQ2FsbHMgdGhlIGAudGVzdEVycm9yYCBtZXRob2Qgb2YgYHR5cGVgIG9yIGZhbGxzIGJhY2sgdG8gYW4gaW1wbGVtZW50YXRpb24gZGVyaXZlZCBmcm9tIGAudGVzdGAuXG4gKlxuICogQHBhcmFtIHR5cGUgVGhlIHR5cGUgdXNlZCBmb3IgdGhlIHRlc3QuXG4gKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICogQHJldHVybiBVbmRlZmluZWQgaWYgdGhlIHZhbHVlIG1hdGNoZXMsIG90aGVyd2lzZSBhbiBgRXJyb3JgIGluc3RhbmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGVzdEVycm9yPFQ+KHR5cGU6IFR5cGU8VD4sIHZhbHVlOiBUKTogRXJyb3IgfCB1bmRlZmluZWQge1xuICBpZiAodHlwZS50ZXN0RXJyb3IgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB0eXBlLnRlc3RFcnJvcih2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHR5cGUudGVzdCh2YWx1ZSkgPyB1bmRlZmluZWQgOiBjcmVhdGVJbnZhbGlkVmFsdWVFcnJvcih0eXBlLCB2YWx1ZSk7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiLi4ifQ==
